<html>
<head>
    <title>Chat WebSocket</title>

    <div>
        <input type="text" id="firstName" placeholder="First Name"/>
        <input type="text" id="lastName" placeholder="Last Name"/>
        <input type="text" id="username" placeholder="Username"/>
        <button id="login" onclick="login();">Log in</button>
    </div>




    <script>

        function login() {

            let http = new XMLHttpRequest();

            var firstNameVal = document.getElementById('firstName').value;
            var lastNameVal = document.getElementById('lastName').value;
            var usernameVal = document.getElementById('username').value;
            let json = JSON.stringify({
                firstName: firstNameVal,
                lastName: lastNameVal,
                username: usernameVal
            });

            http.open("POST", '/users')
            http.setRequestHeader('Content-type', 'application/json; charset=utf-8');
            http.send(json);

            sessionStorage.setItem('currentUser', document.getElementById('username').value);
            location.href = "/chat.html";
        }
    </script>

</head>

</html>